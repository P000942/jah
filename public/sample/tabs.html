<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/font-awesome.css">

    <link rel="stylesheet" href="../css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="../css/layout.css" />

    <script src="../js/vendor/jquery-3.5.1.js"></script>
    <script src="../js/vendor/bootstrap.min.js"></script>
    <script src="../js/jah/type/dataExt.js"></script>
    <script src="../js/jah/config.js"></script>
    <script src="../js/jah/system.js"></script>
    <script src="../js/jah/ui/tabs.js"></script>
    <script src="../js/jah/ui/menu.js"></script>

</head>
<body>
    <div id="page" class='page'>
        <header>
           <div class="header-top">
              <div  class="top-left"></div>
           </div>
           <nav class="navbar" id="menubar"></nav>
        </header>

        <nav id="nav-left"><div  id="sidebar"></div></nav>

        <section id="content_section"><div id='content'></div></section>

        <aside id="nav-right"></aside>

        <footer class="navbar-fixed-bottom">
            <div class="footer" id="Sefaz">© 2013 - Secretaria de Estado da Fazenda</div>
        </footer>

    </div>
</body>
</html>
<script type="text/javascript">
$(document).ready(function(){
    const urlPartial = CONFIG.SERVER.CONTEXT + 'sample/partial.html'
    const tabs = j$.ui.Tabs.create('tabs','content');

    const menu = j$.ui.Menu.create("menubar");
    const tabPartial={key:"tab_Partial", caption:'Partial', url:urlPartial, title:'Title Partial Tab'};
    menu.addMenu({caption:"Home", active:true});
    const menu_link = menu.addMenu("Tabs");
             menu_link.add({caption:'Link',  url:urlPartial});
             menu_link.divider.add();
             menu_link.add({caption:'Menu Partial', byPass:true, url:urlPartial,
                 onClick:function(menu, event){
                      tabs.open(
                             {key:"tab_"+menu.id,
                          caption:menu.caption,
                           onLoad:function(tab){
                               tab.showURL(menu.url);
                           }
                      });
                 }
             });
             menu_link.add({caption:'Delegar abertura', byPass:true, url:urlPartial,
                 onClick:function(menu, event){
                      tabs.open(
                             {key:"tab_"+menu.id,
                          caption:menu.caption,
                           onLoad:function(tab){
                              delagateTab(tab.idContent);
                           }
                      });
                 }
             });
             menu_link.add({caption:'Menu Partial Simples', byPass:true, url:urlPartial,
                 onClick:function(menu, event){
                      tabs.open({key:'tab_'+menu.key, caption:menu.caption, url:menu.url});
                 }
             });
             menu_link.add({caption:'Partial'
                , onClick:function(menu, event){
                      tabs.open(tabPartial);
                 }
             });
             menu_link.add({caption:'Eventos', onClick:criarTab});
    menu.render();
    function criarTab(menu, event){
         tabs.open({key:"tab_eventos", caption:"Evento"
           , onLoad      :function(tab){tab.showURL(urlPartial);}
           , onActivate  :function(tab){console.log("onActivate."+tab.key);}
           , onDeactivate:function(tab){console.log("onDeactivate."+tab.key);}
           , onClose:function(tab){console.log("onClose."+tab.key);}
             });
    };
    // Cria a tab FIXA - 'Home'
    const criarHome= function (){
         j$.ui.Tabs.c$.tabs.open({key:"Home", caption:"Home", fixed:true, url: urlPartial});
    }();
    const delagateTab= function (idContent){
        j$.ui.Open.partial(urlPartial,idContent);
    };

    const sbmenu=j$.ui.Tabs.c$.tabs.add({key:"tab_submenu", caption:'submenu', url:urlPartial, title:'Title Submenu Tab'});
    sbmenu.Menu.add("Álbun",["Album 1","Album 2", "Album 3"]);
    sbmenu.Menu.render();
});
</script>
